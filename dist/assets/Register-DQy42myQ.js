import{r as a,j as e,L as S}from"./index-C8M8d5TP.js";import{b as P,c as p,a as g}from"./index.esm-D35apfu2.js";import{C as A,a as R}from"./CRow-DwbOyR1O.js";import{C as k,a as E}from"./CCardBody-BC-1MHGB.js";import{C as L}from"./CForm-w6XIb02x.js";import{C as y}from"./CAlert-DqFpixet.js";import{C as c,a as n}from"./CInputGroupText-P31hptYY.js";import{c as I,a as w}from"./cil-user-Dlmw-Gem.js";import{C as l}from"./CFormInput-Bd3bcSFW.js";import"./CCloseButton-aVyeQnGi.js";import"./CFormControlWrapper-CObUvOP_.js";import"./CFormControlValidation-1FHZm8X5.js";import"./CFormLabel-Dc_uzIQC.js";const Q=()=>{const[i,u]=a.useState(""),[m,x]=a.useState(""),[t,h]=a.useState(""),[o,j]=a.useState(""),[C,N]=a.useState(""),[f,r]=a.useState(""),v=async s=>{if(s.preventDefault(),!i||!m||!t||!o){r("All fields are required.");return}if(t!==o){r("Passwords do not match.");return}try{const d=await fetch("http://localhost:1000/api/registers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,email:m,password:t,confirmPassword:o})}),b=await d.json();d.ok?(N("Account created successfully."),r(""),u(""),x(""),h(""),j("")):r(b.error||"Registration failed.")}catch{r("Server error. Please try again.")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(P,{children:e.jsx(A,{className:"justify-content-center",children:e.jsx(R,{md:9,lg:7,xl:6,children:e.jsx(k,{className:"mx-4",children:e.jsx(E,{className:"p-4",children:e.jsxs(L,{onSubmit:v,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),C&&e.jsx(y,{color:"success",className:"text-center",children:C}),f&&e.jsx(y,{color:"danger",className:"text-center",children:f}),e.jsxs(c,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(p,{icon:I})}),e.jsx(l,{value:i,onChange:s=>u(s.target.value),placeholder:"Username",autoComplete:"username"})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(n,{children:"@"}),e.jsx(l,{value:m,onChange:s=>x(s.target.value),placeholder:"Email",autoComplete:"email"})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(p,{icon:w})}),e.jsx(l,{type:"password",value:t,onChange:s=>h(s.target.value),placeholder:"Password",autoComplete:"new-password"})]}),e.jsxs(c,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(p,{icon:w})}),e.jsx(l,{type:"password",value:o,onChange:s=>j(s.target.value),placeholder:"Repeat password",autoComplete:"new-password"})]}),e.jsx("div",{className:"d-grid",children:e.jsx(g,{type:"submit",color:"success",children:"Create Account"})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center mt-3",children:[e.jsx("p",{className:"mb-0 me-2",children:"Already have an account?"}),e.jsx(S,{to:"/login",children:e.jsx(g,{color:"link",className:"p-0",children:"Go to Login"})})]})]})})})})})})})};export{Q as default};
